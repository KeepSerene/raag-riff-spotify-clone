<aside class="recent-tracks-sidebar custom-scrollbar">
  <h2 class="title-small recent-tracks-sidebar-title">Recently Played</h2>

  <!-- prettier-ignore -->
  <% if (locals.recentTracks.length > 0) { %>
        <% let uniqueTrackUris = [] %>
        
        <% locals.recentTracks.forEach(({ id, name: title, album: { images }, artists, uri: trackUri }) => { %>
            <% if (uniqueTrackUris.includes(trackUri)) return; %>

            <% const text = artists.map(({ name }) => name).join(", ") %>

            <%- include("../partials/list-item.ejs", {
                id,
                title,
                text,
                images,
                trackUri
            }) %>

            <% uniqueTrackUris.push(trackUri) %>
        <% }) %>
  <% } else { %>
  <p class="body-medium recent-tracks-sidebar-text">
    No recently played tracks!
  </p>
  <% } %>
</aside>
